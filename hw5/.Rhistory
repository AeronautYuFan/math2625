ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
#pyridoxine
pyrid = subset(blad, treatment == 'pyridoxine')
surv_pyrid = survfit(Surv(time, status1) ~ 1, data = pyrid)
plot(surv_pyrid,
col = 'green3', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('Pyridoxine', '95% CI'),
col = 'green3', lty = c(1,2), lwd = 2)
#thiotepa
#genuinely have no idea how the spellings for these drugs were made
thi = subset(blad, treatment == 'thiotepa')
surv_thi = survfit(Surv(time, status1) ~ 1, data = thi)
plot(surv_thi,
col = 'blue', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('Thiotepa', '95% CI'),
col = 'blue', lty = c(1,2), lwd = 2)
# Figure 1. Kaplan-Meier Estimate of Time to Recurrence in Subjects by Treatment
plot(recur, col = c('darkorchid4', 'darkgreen', 'darkblue'), lty = c(1,2,3),
main = '', xlab = 'Time (months)',
ylab = 'Probability of Being Free of Bladder Cancer', lwd = 2, cumhaz = T)
legend('topright', legend = c('Placebo', 'Pyridoxine', 'Thiotepa'),
col = c('darkorchid4', 'darkgreen', 'darkblue'), lty = c(1,2,3), lwd = 2)
# Figure 1. Kaplan-Meier Estimate of Time to Recurrence in Subjects by Treatment
plot(recur, col = c('darkorchid4', 'darkgreen', 'darkblue'), lty = c(1,2,3),
main = '', xlab = 'Time (months)',
ylab = 'Probability H(t)', lwd = 2, cumhaz = T)
legend('topright', legend = c('Placebo', 'Pyridoxine', 'Thiotepa'),
col = c('darkorchid4', 'darkgreen', 'darkblue'), lty = c(1,2,3), lwd = 2)
########## More Graphs ====================================
par(cex = 1.4)
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being Free of Bladder Cancer')
########## More Graphs ====================================
par(cex = 2)
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being Free of Bladder Cancer')
########## More Graphs ====================================
par(cex = 1.5)
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
########## More Graphs ====================================
par(cex = 1.75)
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer')
########## More Graphs ====================================
par(cex = 1.75, mar = c(5, 6, 4, 2))
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
########## More Graphs ====================================
par(cex = 1.75, mar = c(5, 5, 4, 2))
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer', height = 6)
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
########## More Graphs ====================================
par(cex = 1.5)
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer', height = 6)
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
########## More Graphs ====================================
par(cex = 1.67)
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer', height = 6)
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer', height = 6)
########## More Graphs ====================================
par(cex = 1.5)
placebo = subset(blad, treatment == 'placebo')
surv_plac = survfit(Surv(time, status1) ~ 1, data = placebo)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer', height = 6)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
#pyridoxine
pyrid = subset(blad, treatment == 'pyridoxine')
surv_pyrid = survfit(Surv(time, status1) ~ 1, data = pyrid)
plot(surv_pyrid,
col = 'green3', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('Pyridoxine', '95% CI'),
col = 'green3', lty = c(1,2), lwd = 2)
#thiotepa
#genuinely have no idea how the spellings for these drugs were made
thi = subset(blad, treatment == 'thiotepa')
surv_thi = survfit(Surv(time, status1) ~ 1, data = thi)
plot(surv_thi,
col = 'blue', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('Thiotepa', '95% CI'),
col = 'blue', lty = c(1,2), lwd = 2)
death  <- survfit(Surv(time, status2) ~ treatment, data = blad)
death
death$strata
recur  <- survfit(Surv(time, status1) ~ treatment, data = blad)
# Figure 1. Kaplan-Meier Estimate of Time to Recurrence in Subjects by Treatment
plot(recur, col = c('purple', 'green3', 'blue'), lty = c(1,2,3),
main = '', xlab = 'Time (months)',
ylab = 'Probability of Being Free of Bladder Cancer', lwd = 2)
legend('topright', legend = c('Placebo', 'Pyridoxine', 'Thiotepa'),
col = c('purple', 'green3', 'blue'), lty = c(1,2,3), lwd = 2)
## survival analysis of death by treatment group
death  <- survfit(Surv(time, status2) ~ treatment, data = blad)
death
death$strata
plot(death, col = c('darkorchid4', 'darkgreen', 'navy'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Survival')
## case 1 ##
library(survival)
# libraries and code for fancy graph formatting
library(showtext)
library(DescTools)
library(Rfit)
font_add(family = 'ComputerModern', regular = 'cmunrm.ttf') #for consistent formatting in LaTex
showtext_auto()
par(family = 'ComputerModern')
plot(death, col = c('darkorchid4', 'darkgreen', 'navy'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Survival')
legend('bottomleft', legend = c('Placebo', 'Pyridoxine', 'Thiotepa'),
col = c('darkorchid4', 'darkgreen', 'navy'), lty = c(1,2,3), lwd = 2)
################## interactors/confounders
############### first recurrence by number of tumors
number_recur  <- survfit(Surv(time, status1) ~ number, data = blad)
number_recur
number_recur$strata
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lty = c(3,1,2), lwd = 2)
legend('topright', legend = c('1 Tumor', '2 or 3 Tumors', '4+ Tumors'),
col = c('orange', 'yellow3', 'red'), lty = c(3,1,2), lwd = 2)
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
legend('topright', legend = c('1 Tumor', '2 or 3 Tumors', '4+ Tumors'),
col = c('orange', 'yellow3', 'red'), lty = c(1,2,3), lwd = 2)
legend('topright', legend = c('1 Tumor', '2 or 3 Tumors', '4+ Tumors'),
col = c('red', 'orange', 'yellow3'), lty = c(1,2,3), lwd = 2)
sum(blad$number == 'Two to Three' )
number_recur
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lty = c(3,1,2), lwd = 2)
survdiff(Surv(time, status1) ~ number, data = blad, rho = 1)
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('1 Tumor', '2 or 3 Tumors', '4+ Tumors'),
col = c('red', 'orange', 'yellow3'), lty = c(1,2,3), lwd = 2)
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lty = c(3,1,2), lwd = 2)
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lty = c(1,2,3), lwd = 2)
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(3,2,1),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lty = c(1,2,3), lwd = 2)
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lty = c(1,2,3), lwd = 2)
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = 'Recurrence by Tumor Number', xlab = 'Time (months)', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lty = c(1,2,3), lwd = 2)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lwd = 2)
#### recurrence by tumor number
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2)
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lwd = 2)
#### recurrence by tumor number
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lwd = 2)
################## interactors/confounders
############### first recurrence by number of tumors
par(cex = 1.5)
number_recur  <- survfit(Surv(time, status1) ~ number, data = blad)
number_recur
number_recur$strata
#### recurrence by tumor number
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lwd = 2)
################## interactors/confounders
############### first recurrence by number of tumors
par(cex = 1.25)
number_recur  <- survfit(Surv(time, status1) ~ number, data = blad)
number_recur
number_recur$strata
#### recurrence by tumor number
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lwd = 2)
################## interactors/confounders
############### first recurrence by number of tumors
par(cex = 1)
number_recur  <- survfit(Surv(time, status1) ~ number, data = blad)
number_recur
number_recur$strata
#### recurrence by tumor number
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being\nFree of Bladder Cancer')
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lwd = 2)
################## interactors/confounders
############### first recurrence by number of tumors
par(cex = 1.25)
number_recur  <- survfit(Surv(time, status1) ~ number, data = blad)
number_recur
number_recur$strata
#### recurrence by tumor number
plot(number_recur, col = c('red', 'orange', 'yellow3'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('One', 'Two to Three', 'Four or More'),
col = c('orange', 'yellow3', 'red'), lwd = 2)
## first recurrence by size of tumors
size_recur  <- survfit(Surv(time, status1) ~ size, data = blad)
size_recur
size_recur$strata
plot(size_recur, col = c('red', 'forestgreen', 'blue'), lty = c(1,2,3),
main = 'Bladder Survival for Size', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('1cm', '2cm to 3cm', '4cm or Larger'),
col = c('red', 'forestgreen', 'blue'), lty = c(1,2,3), lwd = 2)
## first recurrence by size of tumors
size_recur  <- survfit(Surv(time, status1) ~ size, data = blad)
size_recur
size_recur$strata
plot(size_recur, col = c('darkred', 'forestgreen', 'darkblue'), lty = c(1,2,3),
main = 'Bladder Survival for Size', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being Free of Bladder Cancer')
title(ylab = expression(hat(S)(t)), line = 2.5)
legend('topright', legend = c('1cm', '2cm to 3cm', '4cm or Larger'),
col = c('darkred', 'forestgreen', 'darkblue'), lty = c(1,2,3), lwd = 2)
## first recurrence by size of tumors
size_recur  <- survfit(Surv(time, status1) ~ size, data = blad)
size_recur
size_recur$strata
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2, mark.time = T)
plot(surv_plac,
col = 'purple', lty = 1, lwd = 2, main = '', xlab = 'Time (months)',
ylab = 'Probability of Being\nFree of Bladder Cancer', mark.time = T)
legend('topright', legend = c('Placebo', '95% CI'),
col = 'purple', lty = c(1,2), lwd = 2)
plot(size_recur, col = c('darkred', 'forestgreen', 'darkblue'), lty = c(1,2,3),
main = 'Bladder Survival for Size', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being Free of Bladder Cancer')
plot(size_recur, col = c('darkred', 'forestgreen', 'darkblue'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('1cm', '2cm to 3cm', '4cm or Larger'),
col = c('darkred', 'forestgreen', 'darkblue'), lty = c(1,2,3), lwd = 2)
legend('topright', legend = c('1 cm', '2-3 cm', '>4 cm '),
col = c('darkred', 'forestgreen', 'darkblue'), lty = c(1,2,3), lwd = 2)
plot(size_recur, col = c('darkred', 'forestgreen', 'darkblue'), lty = c(1,2,3),
main = '', xlab = 'Time (months)', lwd = 2,
ylab = 'Probability of Being Free of Bladder Cancer')
legend('topright', legend = c('1 cm', '2-3 cm', '>4 cm '),
col = c('darkred', 'forestgreen', 'darkblue'), lty = c(1,2,3), lwd = 2)
legend('topright', legend = c('1 cm', '2-3 cm', '>4 cm '),
col = c('darkred', 'forestgreen', 'darkblue'), , lwd = 2)
install.packages('npsm')
library(npsm)
library(npsm)
colon_r = subset(colon, etype == 1)
model = survfit(Surv(time, status) ~ node4, data = colon_r )
plot(model, col = c('darkgreen', 'darkorchid4'), lty = 1:2, lwd = 2,
main = 'Time to Recurrence', xlab = 't')
model.1 = survfit(Surv(time, status) ~ rx + strata(node4), data = colon_r )
plot(model.1, col = c('darkgreen', 'darkorchid4', 'yellow4', 'darkred', 'navy', 'gray22'),
main = 'Time to Recurrence', xlab = 't')
View(colon_r)
## case 2 ##
library('survival')
# libraries and code for fancy graph formatting
library(showtext)
library(DescTools)
library(Rfit)
font_add(family = 'ComputerModern', regular = 'cmunrm.ttf') #for consistent formatting in LaTex
showtext_auto()
par(family = 'ComputerModern')
firstr <- read.csv('cgd1.txt', header=TRUE, sep="")
secondr <- read.csv('cgd2.txt', header=TRUE, sep="")
## First infection by treatment group
first_treat  <- survfit(Surv(time, status) ~ treatment, data = firstr)
first_treat
first_treat$strata
plot(first_treat, col = c('red', 'blue'), lty = c(1,2,3),
main = 'First Infection by Treatment', xlab = 't', lwd = 2)
title(ylab = expression(hat(S)(t)), line = 2.5)
legend("bottomleft", legend = c('Placebo', 'Treatment'),
col = c('red', 'blue'), lty = c(1,2,3), lwd = 2)
survdiff(Surv(time, status) ~ treatment, data = firstr, rho = 1)
table(firstr$treatment, firstr$status)
chisq.test(table(firstr$treatment, firstr$status))
plot(first_treat, col = c('red', 'blue'), lty = c(1,2,3),
main = 'Cumulative Hazard \nof First Infection by Treatment', xlab = 't', lwd = 2,
fun = 'cumhaz')
View(firstr)
## case 2 ##
library(survival)
# libraries and code for fancy graph formatting
library(showtext)
library(DescTools)
library(Rfit)
## case 2 ##
library(survival)
# libraries and code for fancy graph formatting
library(showtext)
library(DescTools)
library(Rfit)
font_add(family = 'ComputerModern', regular = 'cmunrm.ttf') #for consistent formatting in LaTex
showtext_auto()
par(family = 'ComputerModern')
firstr <- read.csv('cgd1.txt', header=TRUE, sep="")
secondr <- read.csv('cgd2.txt', header=TRUE, sep="")
## First infection by treatment group
first_treat  <- survfit(Surv(time, status) ~ treatment, data = firstr)
first_treat
first_treat$strata
plot(first_treat, col = c('red', 'blue'), lty = c(1,2,3),
main = 'First Infection by Treatment', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection', lwd = 2)
legend("bottomleft", legend = c('Placebo', 'Treatment'),
col = c('red', 'blue'), lty = c(1,2,3), lwd = 2)
plot(first_treat, col = c('red', 'blue'), lty = c(1,2,3),
main = '', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection', lwd = 2)
legend("bottomleft", legend = c('Placebo', 'Treatment'),
col = c('red', 'blue'), lty = c(1,2,3), lwd = 2)
plot(first_treat, col = c('red', 'blue'), lty = c(1,2,3),
main = '', xlab = 'Time (days)',
ylab = 'Probability of Being Free of First Infection', lwd = 2)
legend("bottomleft", legend = c('Placebo', 'Treatment'),
col = c('red', 'blue'), lty = c(1,2,3), lwd = 2)
survdiff(Surv(time, status) ~ treatment, data = firstr, rho = 1)
survdiff(Surv(time, status) ~ treatment, data = firstr, rho = 1)
table(firstr$treatment, firstr$status)
chisq.test(table(firstr$treatment, firstr$status))
plot(first_treat, col = c('red', 'blue'), lty = c(1,2,3),
main = 'Cumulative Hazard \nof First Infection by Treatment', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection',lwd = 2,
fun = 'cumhaz')
placebo = subset(firstr, treatment == 'placebo')
surv_plac = survfit(Surv(time, status) ~ 1, data = placebo)
plot(surv_plac,
col = 'red', lty = 1, lwd = 2, main = '', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection')
#####
par(cex = 1.5)
placebo = subset(firstr, treatment == 'placebo')
surv_plac = survfit(Surv(time, status) ~ 1, data = placebo)
plot(surv_plac,
col = 'red', lty = 1, lwd = 2, main = '', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection')
legend('topright', legend = c('Placebo', '95% CI'),
col = 'red', lty = c(1,2), lwd = 2)
plot(surv_plac,
col = 'red', lty = 1, lwd = 2, main = '', xlab = 'Time (days)',
ylab = 'Probability of Being Free of First Infection')
legend('topright', legend = c('Placebo', '95% CI'),
col = 'red', lty = c(1,2), lwd = 2)
#treatment
pyrid = subset(firstr, treatment == 'rIFN-g')
surv_rIFNg = survfit(Surv(time, status) ~ 1, data = pyrid)
plot(surv_rIFNg,
col = 'blue', lty = 1, lwd = 2, main = '', xlab = 'Time (days)',
ylab = 'Probability of Being Free of First Infection')
legend('bottomleft', legend = c('rIFN-g', '95% CI'),
col = 'blue', lty = c(1,2), lwd = 2)
## Second infection by treatment group
second_treat  <- survfit(Surv(time, status) ~ treatment, data = secondr)
second_treat
second_treat$strata
plot(second_treat, col = c('red3', 'blue3'), lty = c(1,2,3),
main = 'Second Infection by Treatment', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of Second Infection', lwd = 2)
legend("topright", legend = c('Placebo', 'Treatment'),
col = c('red3', 'blue3'), lty = c(1,2,3), lwd = 2)
## Second infection by treatment group
par(cex = 1)
second_treat  <- survfit(Surv(time, status) ~ treatment, data = secondr)
second_treat
plot(second_treat, col = c('red3', 'blue3'), lty = c(1,2,3),
main = '', xlab = 'Time (days)',
ylab = 'Probability of Being Free of Second Infection', lwd = 2)
legend("topright", legend = c('Placebo', 'Treatment'),
col = c('red3', 'blue3'), lty = c(1,2,3), lwd = 2)
survdiff(Surv(time, status) ~ treatment, data = secondr, rho = 1)
table(secondr$treatment, secondr$status)
chisq.test(table(secondr$treatment, secondr$status))
plot(second_treat, col = c('red3', 'blue3'), lty = c(1,2,3),
main = '', xlab = 'Time (days)',
ylab = 'Probability of Being Free of Second Infection', lwd = 2)
legend("topright", legend = c('Placebo', 'Treatment'),
col = c('red3', 'blue3'), lty = c(1,2,3), lwd = 2)
## First recurrence by inherit group
first_inherit  <- survfit(Surv(time, status) ~ inherit, data = firstr)
first_inherit
first_inherit$strata
plot(first_inherit, col = c('orange', 'purple'), lty = c(1,2),
main = 'First Recurrence by Inherit', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection', lwd = 2)
plot(first_inherit, col = c('orange', 'purple'), lty = c(1,2),
main = '', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection', lwd = 2)
#### confounders: genetics and prop. use
plot(first_inherit, col = c('orange', 'purple'), lty = c(1,2),
main = '', xlab = 'Time (days)',
ylab = 'Probability of Being Free of First Infection', lwd = 2)
legend("bottomright", legend = c('Autosomal', 'X-linked'),
col = c('orange', 'purple'), lty = c(1,2,3), lwd = 2)
legend("bottomright", legend = c('Autosomal', 'X-linked'),
col = c('orange', 'purple'), lty = c(1,2,3), lwd = 2)
survdiff(Surv(time, status) ~ inherit, data = firstr, rho = 1)
table(firstr$inherit, firstr$status)
chisq.test(table(firstr$inherit, firstr$status))
## First recurrence by prophylactic use group
first_prop  <- survfit(Surv(time, status) ~ propylac, data = firstr)
first_prop
first_prop$strata
plot(first_prop, col = c('yellow2', 'green3'), lty = c(1,2,3),
main = 'First Recurrence by Prophylactic Use', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection', lwd = 2)
legend("bottomright", legend = c('No Use', 'Yes Use'),
col = c('yellow2', 'green3'), lty = c(1,2,3), lwd = 2)
plot(first_prop, col = c('yellow2', 'green3'), lty = c(1,2,3),
main = 'First Recurrence by Prophylactic Use', xlab = 'Time (days)',
ylab = 'Probability of Being\nFree of First Infection', lwd = 2)
legend("bottomright", legend = c('No Use of Prophylactics', 'Usage of Prophylactics'),
col = c('yellow2', 'green3'), lty = c(1,2,3), lwd = 2)
plot(first_prop, col = c('yellow2', 'green3'), lty = c(1,2,3),
main = 'First Recurrence by Prophylactic Use', xlab = 'Time (days)',
ylab = 'Probability of Being Free of First Infection', lwd = 2)
legend("bottomright", legend = c('No Use of Prophylactics', 'Usage of Prophylactics'),
col = c('yellow2', 'green3'), lty = c(1,2,3), lwd = 2)
